generator client {
  provider = "prisma-client"
  output   = "../lib/prismaclient"
  runtime  = "deno"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model ipfact {
  id   Int      @id @default(autoincrement())
  ip   String
  seen DateTime

  @@unique([ip, seen])
  @@index([ip])
  @@index([seen])
}

model user {
  id     Int    @id @default(autoincrement())
  ip     String @unique
  name   String
  email  String
  klasse String
}

model history {
  id    Int      @id @default(autoincrement())
  ip    String
  email String
  at    DateTime

  @@index([email])
  @@index([ip])
}

model ldapusercache {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String
  klasse    String?
  updatedat DateTime
}
